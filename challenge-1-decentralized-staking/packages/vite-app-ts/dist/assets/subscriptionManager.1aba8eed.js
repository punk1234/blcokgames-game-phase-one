var jo=Object.defineProperty;var Hn=Object.getOwnPropertySymbols;var ko=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable;var zn=(e,t,r)=>t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qn=(e,t)=>{for(var r in t||(t={}))ko.call(t,r)&&zn(e,r,t[r]);if(Hn)for(var r of Hn(t))Io.call(t,r)&&zn(e,r,t[r]);return e};import{c as ee,b as Co}from"./vendor.74ebd2ee.js";import{aH as Oe,aG as ot}from"./App.e46cb77f.js";import{b as at}from"./index.1b0e3b2a.js";var Gn={},Vn={},Jn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Fo=Jn,st=function(){return Fo()&&!!Symbol.toStringTag},Kn=typeof Symbol!="undefined"&&Symbol,No=Jn,Lo=function(){return typeof Kn!="function"||typeof Symbol!="function"||typeof Kn("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:No()},$o="Function.prototype.bind called on incompatible ",Lr=Array.prototype.slice,Do=Object.prototype.toString,Uo="[object Function]",xo=function(t){var r=this;if(typeof r!="function"||Do.call(r)!==Uo)throw new TypeError($o+r);for(var n=Lr.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Lr.call(arguments)));return Object(w)===w?w:this}else return r.apply(t,n.concat(Lr.call(arguments)))},a=Math.max(0,r.length-n.length),s=[],l=0;l<a;l++)s.push("$"+l);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var g=function(){};g.prototype=r.prototype,i.prototype=new g,g.prototype=null}return i},Wo=xo,$r=Function.prototype.bind||Wo,Ho=$r,zo=Ho.call(Function.call,Object.prototype.hasOwnProperty),D,xe=SyntaxError,Yn=Function,Te=TypeError,Dr=function(e){try{return Yn('"use strict"; return ('+e+").constructor;")()}catch{}},_e=Object.getOwnPropertyDescriptor;if(_e)try{_e({},"")}catch{_e=null}var Ur=function(){throw new Te},qo=_e?function(){try{return arguments.callee,Ur}catch{try{return _e(arguments,"callee").get}catch{return Ur}}}():Ur,Pe=Lo(),fe=Object.getPrototypeOf||function(e){return e.__proto__},Be={},Go=typeof Uint8Array=="undefined"?D:fe(Uint8Array),Me={"%AggregateError%":typeof AggregateError=="undefined"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?D:ArrayBuffer,"%ArrayIteratorPrototype%":Pe?fe([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":Be,"%AsyncGenerator%":Be,"%AsyncGeneratorFunction%":Be,"%AsyncIteratorPrototype%":Be,"%Atomics%":typeof Atomics=="undefined"?D:Atomics,"%BigInt%":typeof BigInt=="undefined"?D:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?D:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?D:FinalizationRegistry,"%Function%":Yn,"%GeneratorFunction%":Be,"%Int8Array%":typeof Int8Array=="undefined"?D:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?D:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Pe?fe(fe([][Symbol.iterator]())):D,"%JSON%":typeof JSON=="object"?JSON:D,"%Map%":typeof Map=="undefined"?D:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Pe?D:fe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?D:Promise,"%Proxy%":typeof Proxy=="undefined"?D:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?D:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Pe?D:fe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Pe?fe(""[Symbol.iterator]()):D,"%Symbol%":Pe?Symbol:D,"%SyntaxError%":xe,"%ThrowTypeError%":qo,"%TypedArray%":Go,"%TypeError%":Te,"%Uint8Array%":typeof Uint8Array=="undefined"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?D:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?D:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?D:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?D:WeakSet},Vo=function e(t){var r;if(t==="%AsyncFunction%")r=Dr("async function () {}");else if(t==="%GeneratorFunction%")r=Dr("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Dr("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=fe(i.prototype))}return Me[t]=r,r},Qn={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ut=$r,lt=zo,Jo=ut.call(Function.call,Array.prototype.concat),Ko=ut.call(Function.apply,Array.prototype.splice),Xn=ut.call(Function.call,String.prototype.replace),ft=ut.call(Function.call,String.prototype.slice),Yo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qo=/\\(\\)?/g,Xo=function(t){var r=ft(t,0,1),n=ft(t,-1);if(r==="%"&&n!=="%")throw new xe("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new xe("invalid intrinsic syntax, expected opening `%`");var i=[];return Xn(t,Yo,function(o,a,s,l){i[i.length]=s?Xn(l,Qo,"$1"):a||o}),i},Zo=function(t,r){var n=t,i;if(lt(Qn,n)&&(i=Qn[n],n="%"+i[0]+"%"),lt(Me,n)){var o=Me[n];if(o===Be&&(o=Vo(n)),typeof o=="undefined"&&!r)throw new Te("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new xe("intrinsic "+t+" does not exist!")},xr=function(t,r){if(typeof t!="string"||t.length===0)throw new Te("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Te('"allowMissing" argument must be a boolean');var n=Xo(t),i=n.length>0?n[0]:"",o=Zo("%"+i+"%",r),a=o.name,s=o.value,l=!1,g=o.alias;g&&(i=g[0],Ko(n,Jo([0,1],g)));for(var w=1,R=!0;w<n.length;w+=1){var y=n[w],_=ft(y,0,1),T=ft(y,-1);if((_==='"'||_==="'"||_==="`"||T==='"'||T==="'"||T==="`")&&_!==T)throw new xe("property names with quotes must have matching quotes");if((y==="constructor"||!R)&&(l=!0),i+="."+y,a="%"+i+"%",lt(Me,a))s=Me[a];else if(s!=null){if(!(y in s)){if(!r)throw new Te("base intrinsic for "+t+" exists, but the property is not available.");return}if(_e&&w+1>=n.length){var $=_e(s,y);R=!!$,R&&"get"in $&&!("originalValue"in $.get)?s=$.get:s=s[y]}else R=lt(s,y),s=s[y];R&&!l&&(Me[a]=s)}}return s},Zn={exports:{}};(function(e){var t=$r,r=xr,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||t.call(i,n),a=r("%Object.getOwnPropertyDescriptor%",!0),s=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}e.exports=function(R){var y=o(t,i,arguments);if(a&&s){var _=a(y,"length");_.configurable&&s(y,"length",{value:1+l(0,R.length-(arguments.length-1))})}return y};var g=function(){return o(t,n,arguments)};s?s(e.exports,"apply",{value:g}):e.exports.apply=g})(Zn);var ei=xr,ti=Zn.exports,ea=ti(ei("String.prototype.indexOf")),Wr=function(t,r){var n=ei(t,!!r);return typeof n=="function"&&ea(t,".prototype.")>-1?ti(n):n},ta=st(),ra=Wr,Hr=ra("Object.prototype.toString"),ct=function(t){return ta&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Hr(t)==="[object Arguments]"},ri=function(t){return ct(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Hr(t)!=="[object Array]"&&Hr(t.callee)==="[object Function]"},na=function(){return ct(arguments)}();ct.isLegacyArguments=ri;var ia=na?ct:ri,oa=Object.prototype.toString,aa=Function.prototype.toString,sa=/^\s*(?:function)?\*/,ni=st(),zr=Object.getPrototypeOf,ua=function(){if(!ni)return!1;try{return Function("return function*() {}")()}catch{}},qr,la=function(t){if(typeof t!="function")return!1;if(sa.test(aa.call(t)))return!0;if(!ni){var r=oa.call(t);return r==="[object GeneratorFunction]"}if(!zr)return!1;if(typeof qr=="undefined"){var n=ua();qr=n?zr(n):!1}return zr(t)===qr},fa=Object.prototype.hasOwnProperty,ca=Object.prototype.toString,ii=function(t,r,n){if(ca.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var o=0;o<i;o++)r.call(n,t[o],o,t);else for(var a in t)fa.call(t,a)&&r.call(n,t[a],a,t)},Gr=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],da=typeof globalThis=="undefined"?ee:globalThis,oi=function(){for(var t=[],r=0;r<Gr.length;r++)typeof da[Gr[r]]=="function"&&(t[t.length]=Gr[r]);return t},ha=xr,dt=ha("%Object.getOwnPropertyDescriptor%",!0);if(dt)try{dt([],"length")}catch{dt=null}var ai=dt,si=ii,pa=oi,Vr=Wr,ya=Vr("Object.prototype.toString"),ui=st(),ga=typeof globalThis=="undefined"?ee:globalThis,li=pa(),ba=Vr("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},ma=Vr("String.prototype.slice"),fi={},ht=ai,Jr=Object.getPrototypeOf;ui&&ht&&Jr&&si(li,function(e){var t=new ga[e];if(Symbol.toStringTag in t){var r=Jr(t),n=ht(r,Symbol.toStringTag);if(!n){var i=Jr(r);n=ht(i,Symbol.toStringTag)}fi[e]=n.get}});var _a=function(t){var r=!1;return si(fi,function(n,i){if(!r)try{r=n.call(t)===i}catch{}}),r},ci=function(t){if(!t||typeof t!="object")return!1;if(!ui||!(Symbol.toStringTag in t)){var r=ma(ya(t),8,-1);return ba(li,r)>-1}return ht?_a(t):!1},di=ii,va=oi,hi=Wr,wa=hi("Object.prototype.toString"),pi=st(),yi=typeof globalThis=="undefined"?ee:globalThis,Sa=va(),Ea=hi("String.prototype.slice"),gi={},Kr=ai,Yr=Object.getPrototypeOf;pi&&Kr&&Yr&&di(Sa,function(e){if(typeof yi[e]=="function"){var t=new yi[e];if(Symbol.toStringTag in t){var r=Yr(t),n=Kr(r,Symbol.toStringTag);if(!n){var i=Yr(r);n=Kr(i,Symbol.toStringTag)}gi[e]=n.get}}});var Ra=function(t){var r=!1;return di(gi,function(n,i){if(!r)try{var o=n.call(t);o===i&&(r=o)}catch{}}),r},Aa=ci,Oa=function(t){return Aa(t)?!pi||!(Symbol.toStringTag in t)?Ea(wa(t),8,-1):Ra(t):!1};(function(e){var t=ia,r=la,n=Oa,i=ci;function o(h){return h.call.bind(h)}var a=typeof BigInt!="undefined",s=typeof Symbol!="undefined",l=o(Object.prototype.toString),g=o(Number.prototype.valueOf),w=o(String.prototype.valueOf),R=o(Boolean.prototype.valueOf);if(a)var y=o(BigInt.prototype.valueOf);if(s)var _=o(Symbol.prototype.valueOf);function T(h,it){if(typeof h!="object")return!1;try{return it(h),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function $(h){return typeof Promise!="undefined"&&h instanceof Promise||h!==null&&typeof h=="object"&&typeof h.then=="function"&&typeof h.catch=="function"}e.isPromise=$;function z(h){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(h):i(h)||b(h)}e.isArrayBufferView=z;function C(h){return n(h)==="Uint8Array"}e.isUint8Array=C;function P(h){return n(h)==="Uint8ClampedArray"}e.isUint8ClampedArray=P;function A(h){return n(h)==="Uint16Array"}e.isUint16Array=A;function x(h){return n(h)==="Uint32Array"}e.isUint32Array=x;function q(h){return n(h)==="Int8Array"}e.isInt8Array=q;function V(h){return n(h)==="Int16Array"}e.isInt16Array=V;function Z(h){return n(h)==="Int32Array"}e.isInt32Array=Z;function K(h){return n(h)==="Float32Array"}e.isFloat32Array=K;function F(h){return n(h)==="Float64Array"}e.isFloat64Array=F;function Y(h){return n(h)==="BigInt64Array"}e.isBigInt64Array=Y;function te(h){return n(h)==="BigUint64Array"}e.isBigUint64Array=te;function c(h){return l(h)==="[object Map]"}c.working=typeof Map!="undefined"&&c(new Map);function d(h){return typeof Map=="undefined"?!1:c.working?c(h):h instanceof Map}e.isMap=d;function p(h){return l(h)==="[object Set]"}p.working=typeof Set!="undefined"&&p(new Set);function m(h){return typeof Set=="undefined"?!1:p.working?p(h):h instanceof Set}e.isSet=m;function S(h){return l(h)==="[object WeakMap]"}S.working=typeof WeakMap!="undefined"&&S(new WeakMap);function v(h){return typeof WeakMap=="undefined"?!1:S.working?S(h):h instanceof WeakMap}e.isWeakMap=v;function O(h){return l(h)==="[object WeakSet]"}O.working=typeof WeakSet!="undefined"&&O(new WeakSet);function H(h){return O(h)}e.isWeakSet=H;function J(h){return l(h)==="[object ArrayBuffer]"}J.working=typeof ArrayBuffer!="undefined"&&J(new ArrayBuffer);function u(h){return typeof ArrayBuffer=="undefined"?!1:J.working?J(h):h instanceof ArrayBuffer}e.isArrayBuffer=u;function f(h){return l(h)==="[object DataView]"}f.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&f(new DataView(new ArrayBuffer(1),0,1));function b(h){return typeof DataView=="undefined"?!1:f.working?f(h):h instanceof DataView}e.isDataView=b;var E=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function M(h){return l(h)==="[object SharedArrayBuffer]"}function N(h){return typeof E=="undefined"?!1:(typeof M.working=="undefined"&&(M.working=M(new E)),M.working?M(h):h instanceof E)}e.isSharedArrayBuffer=N;function j(h){return l(h)==="[object AsyncFunction]"}e.isAsyncFunction=j;function L(h){return l(h)==="[object Map Iterator]"}e.isMapIterator=L;function W(h){return l(h)==="[object Set Iterator]"}e.isSetIterator=W;function Q(h){return l(h)==="[object Generator]"}e.isGeneratorObject=Q;function ae(h){return l(h)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=ae;function be(h){return T(h,g)}e.isNumberObject=be;function se(h){return T(h,w)}e.isStringObject=se;function me(h){return T(h,R)}e.isBooleanObject=me;function De(h){return a&&T(h,y)}e.isBigIntObject=De;function Ue(h){return s&&T(h,_)}e.isSymbolObject=Ue;function rt(h){return be(h)||se(h)||me(h)||De(h)||Ue(h)}e.isBoxedPrimitive=rt;function nt(h){return typeof Uint8Array!="undefined"&&(u(h)||N(h))}e.isAnyArrayBuffer=nt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(h){Object.defineProperty(e,h,{enumerable:!1,value:function(){throw new Error(h+" is not supported in userland")}})})})(Vn);var Ta=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(e){var t=Object.getOwnPropertyDescriptors||function(f){for(var b=Object.keys(f),E={},M=0;M<b.length;M++)E[b[M]]=Object.getOwnPropertyDescriptor(f,b[M]);return E},r=/%[sdj%]/g;e.format=function(u){if(!x(u)){for(var f=[],b=0;b<arguments.length;b++)f.push(o(arguments[b]));return f.join(" ")}for(var b=1,E=arguments,M=E.length,N=String(u).replace(r,function(L){if(L==="%%")return"%";if(b>=M)return L;switch(L){case"%s":return String(E[b++]);case"%d":return Number(E[b++]);case"%j":try{return JSON.stringify(E[b++])}catch{return"[Circular]"}default:return L}}),j=E[b];b<M;j=E[++b])C(j)||!K(j)?N+=" "+j:N+=" "+o(j);return N},e.deprecate=function(u,f){if(typeof process!="undefined"&&process.noDeprecation===!0)return u;if(typeof process=="undefined")return function(){return e.deprecate(u,f).apply(this,arguments)};var b=!1;function E(){if(!b){if(process.throwDeprecation)throw new Error(f);process.traceDeprecation?console.trace(f):console.error(f),b=!0}return u.apply(this,arguments)}return E};var n={},i=/^$/;e.debuglog=function(u){if(u=u.toUpperCase(),!n[u])if(i.test(u)){var f=process.pid;n[u]=function(){var b=e.format.apply(e,arguments);console.error("%s %d: %s",u,f,b)}}else n[u]=function(){};return n[u]};function o(u,f){var b={seen:[],stylize:s};return arguments.length>=3&&(b.depth=arguments[2]),arguments.length>=4&&(b.colors=arguments[3]),z(f)?b.showHidden=f:f&&e._extend(b,f),V(b.showHidden)&&(b.showHidden=!1),V(b.depth)&&(b.depth=2),V(b.colors)&&(b.colors=!1),V(b.customInspect)&&(b.customInspect=!0),b.colors&&(b.stylize=a),g(b,u,b.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(u,f){var b=o.styles[f];return b?"["+o.colors[b][0]+"m"+u+"["+o.colors[b][1]+"m":u}function s(u,f){return u}function l(u){var f={};return u.forEach(function(b,E){f[b]=!0}),f}function g(u,f,b){if(u.customInspect&&f&&te(f.inspect)&&f.inspect!==e.inspect&&!(f.constructor&&f.constructor.prototype===f)){var E=f.inspect(b,u);return x(E)||(E=g(u,E,b)),E}var M=w(u,f);if(M)return M;var N=Object.keys(f),j=l(N);if(u.showHidden&&(N=Object.getOwnPropertyNames(f)),Y(f)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return R(f);if(N.length===0){if(te(f)){var L=f.name?": "+f.name:"";return u.stylize("[Function"+L+"]","special")}if(Z(f))return u.stylize(RegExp.prototype.toString.call(f),"regexp");if(F(f))return u.stylize(Date.prototype.toString.call(f),"date");if(Y(f))return R(f)}var W="",Q=!1,ae=["{","}"];if($(f)&&(Q=!0,ae=["[","]"]),te(f)){var be=f.name?": "+f.name:"";W=" [Function"+be+"]"}if(Z(f)&&(W=" "+RegExp.prototype.toString.call(f)),F(f)&&(W=" "+Date.prototype.toUTCString.call(f)),Y(f)&&(W=" "+R(f)),N.length===0&&(!Q||f.length==0))return ae[0]+W+ae[1];if(b<0)return Z(f)?u.stylize(RegExp.prototype.toString.call(f),"regexp"):u.stylize("[Object]","special");u.seen.push(f);var se;return Q?se=y(u,f,b,j,N):se=N.map(function(me){return _(u,f,b,j,me,Q)}),u.seen.pop(),T(se,W,ae)}function w(u,f){if(V(f))return u.stylize("undefined","undefined");if(x(f)){var b="'"+JSON.stringify(f).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return u.stylize(b,"string")}if(A(f))return u.stylize(""+f,"number");if(z(f))return u.stylize(""+f,"boolean");if(C(f))return u.stylize("null","null")}function R(u){return"["+Error.prototype.toString.call(u)+"]"}function y(u,f,b,E,M){for(var N=[],j=0,L=f.length;j<L;++j)v(f,String(j))?N.push(_(u,f,b,E,String(j),!0)):N.push("");return M.forEach(function(W){W.match(/^\d+$/)||N.push(_(u,f,b,E,W,!0))}),N}function _(u,f,b,E,M,N){var j,L,W;if(W=Object.getOwnPropertyDescriptor(f,M)||{value:f[M]},W.get?W.set?L=u.stylize("[Getter/Setter]","special"):L=u.stylize("[Getter]","special"):W.set&&(L=u.stylize("[Setter]","special")),v(E,M)||(j="["+M+"]"),L||(u.seen.indexOf(W.value)<0?(C(b)?L=g(u,W.value,null):L=g(u,W.value,b-1),L.indexOf(`
`)>-1&&(N?L=L.split(`
`).map(function(Q){return"  "+Q}).join(`
`).substr(2):L=`
`+L.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):L=u.stylize("[Circular]","special")),V(j)){if(N&&M.match(/^\d+$/))return L;j=JSON.stringify(""+M),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.substr(1,j.length-2),j=u.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=u.stylize(j,"string"))}return j+": "+L}function T(u,f,b){var E=u.reduce(function(M,N){return N.indexOf(`
`)>=0,M+N.replace(/\u001b\[\d\d?m/g,"").length+1},0);return E>60?b[0]+(f===""?"":f+`
 `)+" "+u.join(`,
  `)+" "+b[1]:b[0]+f+" "+u.join(", ")+" "+b[1]}e.types=Vn;function $(u){return Array.isArray(u)}e.isArray=$;function z(u){return typeof u=="boolean"}e.isBoolean=z;function C(u){return u===null}e.isNull=C;function P(u){return u==null}e.isNullOrUndefined=P;function A(u){return typeof u=="number"}e.isNumber=A;function x(u){return typeof u=="string"}e.isString=x;function q(u){return typeof u=="symbol"}e.isSymbol=q;function V(u){return u===void 0}e.isUndefined=V;function Z(u){return K(u)&&d(u)==="[object RegExp]"}e.isRegExp=Z,e.types.isRegExp=Z;function K(u){return typeof u=="object"&&u!==null}e.isObject=K;function F(u){return K(u)&&d(u)==="[object Date]"}e.isDate=F,e.types.isDate=F;function Y(u){return K(u)&&(d(u)==="[object Error]"||u instanceof Error)}e.isError=Y,e.types.isNativeError=Y;function te(u){return typeof u=="function"}e.isFunction=te;function c(u){return u===null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||typeof u=="symbol"||typeof u=="undefined"}e.isPrimitive=c,e.isBuffer=Ta;function d(u){return Object.prototype.toString.call(u)}function p(u){return u<10?"0"+u.toString(10):u.toString(10)}var m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var u=new Date,f=[p(u.getHours()),p(u.getMinutes()),p(u.getSeconds())].join(":");return[u.getDate(),m[u.getMonth()],f].join(" ")}e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))},e.inherits=Oe.exports,e._extend=function(u,f){if(!f||!K(f))return u;for(var b=Object.keys(f),E=b.length;E--;)u[b[E]]=f[b[E]];return u};function v(u,f){return Object.prototype.hasOwnProperty.call(u,f)}var O=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;e.promisify=function(f){if(typeof f!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&f[O]){var b=f[O];if(typeof b!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(b,O,{value:b,enumerable:!1,writable:!1,configurable:!0}),b}function b(){for(var E,M,N=new Promise(function(W,Q){E=W,M=Q}),j=[],L=0;L<arguments.length;L++)j.push(arguments[L]);j.push(function(W,Q){W?M(W):E(Q)});try{f.apply(this,j)}catch(W){M(W)}return N}return Object.setPrototypeOf(b,Object.getPrototypeOf(f)),O&&Object.defineProperty(b,O,{value:b,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(b,t(f))},e.promisify.custom=O;function H(u,f){if(!u){var b=new Error("Promise was rejected with a falsy value");b.reason=u,u=b}return f(u)}function J(u){if(typeof u!="function")throw new TypeError('The "original" argument must be of type Function');function f(){for(var b=[],E=0;E<arguments.length;E++)b.push(arguments[E]);var M=b.pop();if(typeof M!="function")throw new TypeError("The last argument must be of type Function");var N=this,j=function(){return M.apply(N,arguments)};u.apply(this,b).then(function(L){process.nextTick(j.bind(null,null,L))},function(L){process.nextTick(H.bind(null,L,j))})}return Object.setPrototypeOf(f,Object.getPrototypeOf(u)),Object.defineProperties(f,t(u)),f}e.callbackify=J})(Gn);var pt={exports:{}},bi=ot.exports.EventEmitter,Pa={},Ba=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pa}),mi=Co(Ba);function _i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_i(Object(r),!0).forEach(function(n){ja(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ja(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ia(e,t,r){return t&&vi(e.prototype,t),r&&vi(e,r),e}var Ca=at,yt=Ca.Buffer,Fa=mi,Qr=Fa.inspect,Na=Qr&&Qr.custom||"inspect";function La(e,t,r){yt.prototype.copy.call(e,t,r)}var $a=function(){function e(){ka(this,e),this.head=null,this.tail=null,this.length=0}return Ia(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return yt.alloc(0);for(var n=yt.allocUnsafe(r>>>0),i=this.head,o=0;i;)La(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=yt.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o}return this.length-=o,n}},{key:Na,value:function(r,n){return Qr(this,Ma({},n,{depth:0,customInspect:!1}))}}]),e}();function Da(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Xr,this,e)):process.nextTick(Xr,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(gt,r):(r._writableState.errorEmitted=!0,process.nextTick(wi,r,o)):process.nextTick(wi,r,o):t?(process.nextTick(gt,r),t(o)):process.nextTick(gt,r)}),this)}function wi(e,t){Xr(e,t),gt(e)}function gt(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Ua(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xr(e,t){e.emit("error",t)}function xa(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var Si={destroy:Da,undestroy:Ua,errorOrDestroy:xa},ve={};function Wa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ei={};function re(e,t,r){r||(r=Error);function n(o,a,s){return typeof t=="string"?t:t(o,a,s)}var i=function(o){Wa(a,o);function a(s,l,g){return o.call(this,n(s,l,g))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=e,Ei[e]=i}function Ri(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Ha(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function za(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function qa(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}re("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);re("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&Ha(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(za(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Ri(t,"type"));else{var o=qa(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(Ri(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);re("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");re("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});re("ERR_STREAM_PREMATURE_CLOSE","Premature close");re("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});re("ERR_MULTIPLE_CALLBACK","Callback called multiple times");re("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");re("ERR_STREAM_WRITE_AFTER_END","write after end");re("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);re("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);re("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ve.codes=Ei;var Ga=ve.codes.ERR_INVALID_OPT_VALUE;function Va(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Ja(e,t,r,n){var i=Va(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Ga(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var Ai={getHighWaterMark:Ja},Ka=Ya;function Ya(e,t){if(Zr("noDeprecation"))return e;var r=!1;function n(){if(!r){if(Zr("throwDeprecation"))throw new Error(t);Zr("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function Zr(e){try{if(!ee.localStorage)return!1}catch{return!1}var t=ee.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var Oi=G;function Ti(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Es(t,e)}}var je;G.WritableState=We;var Qa={deprecate:Ka},Pi=bi,bt=at.Buffer,Xa=ee.Uint8Array||function(){};function Za(e){return bt.from(e)}function es(e){return bt.isBuffer(e)||e instanceof Xa}var en=Si,ts=Ai,rs=ts.getHighWaterMark,ce=ve.codes,ns=ce.ERR_INVALID_ARG_TYPE,is=ce.ERR_METHOD_NOT_IMPLEMENTED,os=ce.ERR_MULTIPLE_CALLBACK,as=ce.ERR_STREAM_CANNOT_PIPE,ss=ce.ERR_STREAM_DESTROYED,us=ce.ERR_STREAM_NULL_VALUES,ls=ce.ERR_STREAM_WRITE_AFTER_END,fs=ce.ERR_UNKNOWN_ENCODING,ke=en.errorOrDestroy;Oe.exports(G,Pi);function cs(){}function We(e,t,r){je=je||Ie,e=e||{},typeof r!="boolean"&&(r=t instanceof je),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=rs(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){ms(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ti(this)}We.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(We.prototype,"buffer",{get:Qa.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var mt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mt=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(t){return mt.call(this,t)?!0:this!==G?!1:t&&t._writableState instanceof We}})):mt=function(t){return t instanceof this};function G(e){je=je||Ie;var t=this instanceof je;if(!t&&!mt.call(G,this))return new G(e);this._writableState=new We(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Pi.call(this)}G.prototype.pipe=function(){ke(this,new as)};function ds(e,t){var r=new ls;ke(e,r),process.nextTick(t,r)}function hs(e,t,r,n){var i;return r===null?i=new us:typeof r!="string"&&!t.objectMode&&(i=new ns("chunk",["string","Buffer"],r)),i?(ke(e,i),process.nextTick(n,i),!1):!0}G.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&es(e);return o&&!bt.isBuffer(e)&&(e=Za(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=cs),n.ending?ds(this,r):(o||hs(this,n,e,r))&&(n.pendingcb++,i=ys(this,n,o,e,t,r)),i};G.prototype.cork=function(){this._writableState.corked++};G.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&Mi(this,e))};G.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new fs(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ps(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=bt.from(t,r)),t}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ys(e,t,r,n,i,o){if(!r){var a=ps(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var g=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},g?g.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else tn(e,t,!1,s,n,i,o);return l}function tn(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ss("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function gs(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(He,e,t),e._writableState.errorEmitted=!0,ke(e,n)):(i(n),e._writableState.errorEmitted=!0,ke(e,n),He(e,t))}function bs(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function ms(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new os;if(bs(r),t)gs(e,r,n,t,i);else{var o=ji(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Mi(e,r),n?process.nextTick(Bi,e,r,o,i):Bi(e,r,o,i)}}function Bi(e,t,r,n){r||_s(e,t),t.pendingcb--,n(),He(e,t)}function _s(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Mi(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,tn(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Ti(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,g=r.encoding,w=r.callback,R=t.objectMode?1:l.length;if(tn(e,t,!1,R,l,g,w),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}G.prototype._write=function(e,t,r){r(new is("_write()"))};G.prototype._writev=null;G.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Ss(this,n,r),this};Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ji(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function vs(e,t){e._final(function(r){t.pendingcb--,r&&ke(e,r),t.prefinished=!0,e.emit("prefinish"),He(e,t)})}function ws(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(vs,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function He(e,t){var r=ji(t);if(r&&(ws(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function Ss(e,t,r){t.ending=!0,He(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Es(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});G.prototype.destroy=en.destroy;G.prototype._undestroy=en.undestroy;G.prototype._destroy=function(e,t){t(e)};var Rs=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},Ie=oe,ki=Li,rn=Oi;Oe.exports(oe,ki);for(var Ii=Rs(rn.prototype),nn=0;nn<Ii.length;nn++){var on=Ii[nn];oe.prototype[on]||(oe.prototype[on]=rn.prototype[on])}function oe(e){if(!(this instanceof oe))return new oe(e);ki.call(this,e),rn.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",As)))}Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function As(){this._writableState.ended||process.nextTick(Os,this)}function Os(e){e.end()}Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var an={},sn={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=at,n=r.Buffer;function i(a,s){for(var l in a)s[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o);function o(a,s,l){return n(a,s,l)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(a,s,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,s,l)},o.alloc=function(a,s,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var g=n(a);return s!==void 0?typeof l=="string"?g.fill(s,l):g.fill(s):g.fill(0),g},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(sn,sn.exports);var un=sn.exports.Buffer,Ci=un.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ts(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Ps(e){var t=Ts(e);if(typeof t!="string"&&(un.isEncoding===Ci||!Ci(e)))throw new Error("Unknown encoding: "+e);return t||e}an.StringDecoder=ze;function ze(e){this.encoding=Ps(e);var t;switch(this.encoding){case"utf16le":this.text=Cs,this.end=Fs,t=4;break;case"utf8":this.fillLast=js,t=4;break;case"base64":this.text=Ns,this.end=Ls,t=3;break;default:this.write=$s,this.end=Ds;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=un.allocUnsafe(t)}ze.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};ze.prototype.end=Is;ze.prototype.text=ks;ze.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function ln(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Bs(e,t,r){var n=t.length-1;if(n<r)return 0;var i=ln(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=ln(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=ln(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Ms(e,t,r){if((t[0]&192)!=128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!=128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!=128)return e.lastNeed=2,"\uFFFD"}}function js(e){var t=this.lastTotal-this.lastNeed,r=Ms(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function ks(e,t){var r=Bs(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Is(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Cs(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Fs(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Ns(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Ls(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function $s(e){return e.toString(this.encoding)}function Ds(e){return e&&e.length?this.write(e):""}var Fi=ve.codes.ERR_STREAM_PREMATURE_CLOSE;function Us(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function xs(){}function Ws(e){return e.setHeader&&typeof e.abort=="function"}function Ni(e,t,r){if(typeof t=="function")return Ni(e,null,t);t||(t={}),r=Us(r||xs);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){i=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,g=function(){n=!1,l=!0,i||r.call(e)},w=function(T){r.call(e,T)},R=function(){var T;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(T=new Fi),r.call(e,T);if(i&&!a)return(!e._writableState||!e._writableState.ended)&&(T=new Fi),r.call(e,T)},y=function(){e.req.on("finish",s)};return Ws(e)?(e.on("complete",s),e.on("abort",R),e.req?y():e.on("request",y)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",g),e.on("finish",s),t.error!==!1&&e.on("error",w),e.on("close",R),function(){e.removeListener("complete",s),e.removeListener("abort",R),e.removeListener("request",y),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",g),e.removeListener("error",w),e.removeListener("close",R)}}var fn=Ni,_t;function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hs=fn,he=Symbol("lastResolve"),we=Symbol("lastReject"),qe=Symbol("error"),vt=Symbol("ended"),Se=Symbol("lastPromise"),cn=Symbol("handlePromise"),Ee=Symbol("stream");function pe(e,t){return{value:e,done:t}}function zs(e){var t=e[he];if(t!==null){var r=e[Ee].read();r!==null&&(e[Se]=null,e[he]=null,e[we]=null,t(pe(r,!1)))}}function qs(e){process.nextTick(zs,e)}function Gs(e,t){return function(r,n){e.then(function(){if(t[vt]){r(pe(void 0,!0));return}t[cn](r,n)},n)}}var Vs=Object.getPrototypeOf(function(){}),Js=Object.setPrototypeOf((_t={get stream(){return this[Ee]},next:function(){var t=this,r=this[qe];if(r!==null)return Promise.reject(r);if(this[vt])return Promise.resolve(pe(void 0,!0));if(this[Ee].destroyed)return new Promise(function(a,s){process.nextTick(function(){t[qe]?s(t[qe]):a(pe(void 0,!0))})});var n=this[Se],i;if(n)i=new Promise(Gs(n,this));else{var o=this[Ee].read();if(o!==null)return Promise.resolve(pe(o,!1));i=new Promise(this[cn])}return this[Se]=i,i}},de(_t,Symbol.asyncIterator,function(){return this}),de(_t,"return",function(){var t=this;return new Promise(function(r,n){t[Ee].destroy(null,function(i){if(i){n(i);return}r(pe(void 0,!0))})})}),_t),Vs),Ks=function(t){var r,n=Object.create(Js,(r={},de(r,Ee,{value:t,writable:!0}),de(r,he,{value:null,writable:!0}),de(r,we,{value:null,writable:!0}),de(r,qe,{value:null,writable:!0}),de(r,vt,{value:t._readableState.endEmitted,writable:!0}),de(r,cn,{value:function(o,a){var s=n[Ee].read();s?(n[Se]=null,n[he]=null,n[we]=null,o(pe(s,!1))):(n[he]=o,n[we]=a)},writable:!0}),r));return n[Se]=null,Hs(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[we];o!==null&&(n[Se]=null,n[he]=null,n[we]=null,o(i)),n[qe]=i;return}var a=n[he];a!==null&&(n[Se]=null,n[he]=null,n[we]=null,a(pe(void 0,!0))),n[vt]=!0}),t.on("readable",qs.bind(null,n)),n},Ys=Ks,Qs=function(){throw new Error("Readable.from is not available in the browser")},Li=U,Ce;U.ReadableState=Di;ot.exports.EventEmitter;var $i=function(t,r){return t.listeners(r).length},Ge=bi,wt=at.Buffer,Xs=ee.Uint8Array||function(){};function Zs(e){return wt.from(e)}function eu(e){return wt.isBuffer(e)||e instanceof Xs}var dn=mi,k;dn&&dn.debuglog?k=dn.debuglog("stream"):k=function(){};var tu=$a,hn=Si,ru=Ai,nu=ru.getHighWaterMark,St=ve.codes,iu=St.ERR_INVALID_ARG_TYPE,ou=St.ERR_STREAM_PUSH_AFTER_EOF,au=St.ERR_METHOD_NOT_IMPLEMENTED,su=St.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Fe,pn,yn;Oe.exports(U,Ge);var Ve=hn.errorOrDestroy,gn=["error","close","destroy","pause","resume"];function uu(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Di(e,t,r){Ce=Ce||Ie,e=e||{},typeof r!="boolean"&&(r=t instanceof Ce),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=nu(this,e,"readableHighWaterMark",r),this.buffer=new tu,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Fe||(Fe=an.StringDecoder),this.decoder=new Fe(e.encoding),this.encoding=e.encoding)}function U(e){if(Ce=Ce||Ie,!(this instanceof U))return new U(e);var t=this instanceof Ce;this._readableState=new Di(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ge.call(this)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});U.prototype.destroy=hn.destroy;U.prototype._undestroy=hn.undestroy;U.prototype._destroy=function(e,t){t(e)};U.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=wt.from(e,t),t=""),n=!0),Ui(this,e,t,!1,n)};U.prototype.unshift=function(e){return Ui(this,e,null,!0,!1)};function Ui(e,t,r,n,i){k("readableAddChunk",t);var o=e._readableState;if(t===null)o.reading=!1,cu(e,o);else{var a;if(i||(a=lu(o,t)),a)Ve(e,a);else if(o.objectMode||t&&t.length>0)if(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==wt.prototype&&(t=Zs(t)),n)o.endEmitted?Ve(e,new su):bn(e,o,t,!0);else if(o.ended)Ve(e,new ou);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?bn(e,o,t,!1):mn(e,o)):bn(e,o,t,!1)}else n||(o.reading=!1,mn(e,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function bn(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Et(e)),mn(e,t)}function lu(e,t){var r;return!eu(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new iu("chunk",["string","Buffer","Uint8Array"],t)),r}U.prototype.isPaused=function(){return this._readableState.flowing===!1};U.prototype.setEncoding=function(e){Fe||(Fe=an.StringDecoder);var t=new Fe(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var xi=1073741824;function fu(e){return e>=xi?e=xi:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Wi(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=fu(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}U.prototype.read=function(e){k("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return k("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?vn(this):Et(this),null;if(e=Wi(e,t),e===0&&t.ended)return t.length===0&&vn(this),null;var n=t.needReadable;k("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,k("length less than watermark",n)),t.ended||t.reading?(n=!1,k("reading or ended",n)):n&&(k("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Wi(r,t)));var i;return e>0?i=qi(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&vn(this)),i!==null&&this.emit("data",i),i};function cu(e,t){if(k("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Et(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Hi(e)))}}function Et(e){var t=e._readableState;k("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(k("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Hi,e))}function Hi(e){var t=e._readableState;k("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,_n(e)}function mn(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(du,e,t))}function du(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(k("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}U.prototype._read=function(e){Ve(this,new au("_read()"))};U.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,k("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?s:$;n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(z,C){k("onunpipe"),z===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,w())}function s(){k("onend"),e.end()}var l=hu(r);e.on("drain",l);var g=!1;function w(){k("cleanup"),e.removeListener("close",_),e.removeListener("finish",T),e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",$),r.removeListener("data",R),g=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",R);function R(z){k("ondata");var C=e.write(z);k("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Gi(n.pipes,e)!==-1)&&!g&&(k("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(z){k("onerror",z),$(),e.removeListener("error",y),$i(e,"error")===0&&Ve(e,z)}uu(e,"error",y);function _(){e.removeListener("finish",T),$()}e.once("close",_);function T(){k("onfinish"),e.removeListener("close",_),$()}e.once("finish",T);function $(){k("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(k("pipe resume"),r.resume()),e};function hu(e){return function(){var r=e._readableState;k("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&$i(e,"data")&&(r.flowing=!0,_n(e))}}U.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Gi(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};U.prototype.on=function(e,t){var r=Ge.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,k("on readable",n.length,n.reading),n.length?Et(this):n.reading||process.nextTick(pu,this)),r};U.prototype.addListener=U.prototype.on;U.prototype.removeListener=function(e,t){var r=Ge.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(zi,this),r};U.prototype.removeAllListeners=function(e){var t=Ge.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(zi,this),t};function zi(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function pu(e){k("readable nexttick read 0"),e.read(0)}U.prototype.resume=function(){var e=this._readableState;return e.flowing||(k("resume"),e.flowing=!e.readableListening,yu(this,e)),e.paused=!1,this};function yu(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(gu,e,t))}function gu(e,t){k("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),_n(e),t.flowing&&!t.reading&&e.read(0)}U.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function _n(e){var t=e._readableState;for(k("flow",t.flowing);t.flowing&&e.read()!==null;);}U.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(k("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(k("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(s){return function(){return e[s].apply(e,arguments)}}(i));for(var o=0;o<gn.length;o++)e.on(gn[o],this.emit.bind(this,gn[o]));return this._read=function(a){k("wrapped _read",a),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return pn===void 0&&(pn=Ys),pn(this)});Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});U._fromList=qi;Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function qi(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function vn(e){var t=e._readableState;k("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(bu,t,e))}function bu(e,t){if(k("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(U.from=function(e,t){return yn===void 0&&(yn=Qs),yn(U,e,t)});function Gi(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var Vi=ue,Rt=ve.codes,mu=Rt.ERR_METHOD_NOT_IMPLEMENTED,_u=Rt.ERR_MULTIPLE_CALLBACK,vu=Rt.ERR_TRANSFORM_ALREADY_TRANSFORMING,wu=Rt.ERR_TRANSFORM_WITH_LENGTH_0,At=Ie;Oe.exports(ue,At);function Su(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new _u);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ue(e){if(!(this instanceof ue))return new ue(e);At.call(this,e),this._transformState={afterTransform:Su.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Eu)}function Eu(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Ji(e,t,r)}):Ji(this,null,null)}ue.prototype.push=function(e,t){return this._transformState.needTransform=!1,At.prototype.push.call(this,e,t)};ue.prototype._transform=function(e,t,r){r(new mu("_transform()"))};ue.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ue.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};ue.prototype._destroy=function(e,t){At.prototype._destroy.call(this,e,function(r){t(r)})};function Ji(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new wu;if(e._transformState.transforming)throw new vu;return e.push(null)}var Ru=Je,Ki=Vi;Oe.exports(Je,Ki);function Je(e){if(!(this instanceof Je))return new Je(e);Ki.call(this,e)}Je.prototype._transform=function(e,t,r){r(null,e)};var wn;function Au(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Yi=ve.codes,Ou=Yi.ERR_MISSING_ARGS,Tu=Yi.ERR_STREAM_DESTROYED;function Qi(e){if(e)throw e}function Pu(e){return e.setHeader&&typeof e.abort=="function"}function Bu(e,t,r,n){n=Au(n);var i=!1;e.on("close",function(){i=!0}),wn===void 0&&(wn=fn),wn(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,Pu(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new Tu("pipe"))}}}function Xi(e){e()}function Mu(e,t){return e.pipe(t)}function ju(e){return!e.length||typeof e[e.length-1]!="function"?Qi:e.pop()}function ku(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=ju(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Ou("streams");var i,o=t.map(function(a,s){var l=s<t.length-1,g=s>0;return Bu(a,l,g,function(w){i||(i=w),w&&o.forEach(Xi),!l&&(o.forEach(Xi),n(i))})});return t.reduce(Mu)}var Iu=ku;(function(e,t){t=e.exports=Li,t.Stream=t,t.Readable=t,t.Writable=Oi,t.Duplex=Ie,t.Transform=Vi,t.PassThrough=Ru,t.finished=fn,t.pipeline=Iu})(pt,pt.exports);const{Transform:Cu}=pt.exports;var Fu=e=>class Zi extends Cu{constructor(r,n,i,o,a){super(a);this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=a,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(a){o=a}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Zi(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Nu}=pt.exports;var Lu=e=>class eo extends Nu{constructor(r,n,i,o){super(o);this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(a){o=a}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new eo(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const $u=Fu,Du=Lu;var Uu=function(e){const t=$u(e),r=Du(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},to={};const ro=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];to.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],s=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],g=e[7]^e[17]^e[27]^e[37]^e[47],w=e[8]^e[18]^e[28]^e[38]^e[48],R=e[9]^e[19]^e[29]^e[39]^e[49];let y=w^(i<<1|o>>>31),_=R^(o<<1|i>>>31);const T=e[0]^y,$=e[1]^_,z=e[10]^y,C=e[11]^_,P=e[20]^y,A=e[21]^_,x=e[30]^y,q=e[31]^_,V=e[40]^y,Z=e[41]^_;y=r^(a<<1|s>>>31),_=n^(s<<1|a>>>31);const K=e[2]^y,F=e[3]^_,Y=e[12]^y,te=e[13]^_,c=e[22]^y,d=e[23]^_,p=e[32]^y,m=e[33]^_,S=e[42]^y,v=e[43]^_;y=i^(l<<1|g>>>31),_=o^(g<<1|l>>>31);const O=e[4]^y,H=e[5]^_,J=e[14]^y,u=e[15]^_,f=e[24]^y,b=e[25]^_,E=e[34]^y,M=e[35]^_,N=e[44]^y,j=e[45]^_;y=a^(w<<1|R>>>31),_=s^(R<<1|w>>>31);const L=e[6]^y,W=e[7]^_,Q=e[16]^y,ae=e[17]^_,be=e[26]^y,se=e[27]^_,me=e[36]^y,De=e[37]^_,Ue=e[46]^y,rt=e[47]^_;y=l^(r<<1|n>>>31),_=g^(n<<1|r>>>31);const nt=e[8]^y,h=e[9]^_,it=e[18]^y,Ut=e[19]^_,Ln=e[28]^y,$n=e[29]^_,Dn=e[38]^y,Un=e[39]^_,xn=e[48]^y,Wn=e[49]^_,xt=T,Wt=$,Ht=C<<4|z>>>28,zt=z<<4|C>>>28,qt=P<<3|A>>>29,Gt=A<<3|P>>>29,Vt=q<<9|x>>>23,Jt=x<<9|q>>>23,Kt=V<<18|Z>>>14,Yt=Z<<18|V>>>14,Qt=K<<1|F>>>31,Xt=F<<1|K>>>31,Zt=te<<12|Y>>>20,er=Y<<12|te>>>20,tr=c<<10|d>>>22,rr=d<<10|c>>>22,nr=m<<13|p>>>19,ir=p<<13|m>>>19,or=S<<2|v>>>30,ar=v<<2|S>>>30,sr=H<<30|O>>>2,ur=O<<30|H>>>2,lr=J<<6|u>>>26,fr=u<<6|J>>>26,cr=b<<11|f>>>21,dr=f<<11|b>>>21,hr=E<<15|M>>>17,pr=M<<15|E>>>17,yr=j<<29|N>>>3,gr=N<<29|j>>>3,br=L<<28|W>>>4,mr=W<<28|L>>>4,_r=ae<<23|Q>>>9,vr=Q<<23|ae>>>9,wr=be<<25|se>>>7,Sr=se<<25|be>>>7,Er=me<<21|De>>>11,Rr=De<<21|me>>>11,Ar=rt<<24|Ue>>>8,Or=Ue<<24|rt>>>8,Tr=nt<<27|h>>>5,Pr=h<<27|nt>>>5,Br=it<<20|Ut>>>12,Mr=Ut<<20|it>>>12,jr=$n<<7|Ln>>>25,kr=Ln<<7|$n>>>25,Ir=Dn<<8|Un>>>24,Cr=Un<<8|Dn>>>24,Fr=xn<<14|Wn>>>18,Nr=Wn<<14|xn>>>18;e[0]=xt^~Zt&cr,e[1]=Wt^~er&dr,e[10]=br^~Br&qt,e[11]=mr^~Mr&Gt,e[20]=Qt^~lr&wr,e[21]=Xt^~fr&Sr,e[30]=Tr^~Ht&tr,e[31]=Pr^~zt&rr,e[40]=sr^~_r&jr,e[41]=ur^~vr&kr,e[2]=Zt^~cr&Er,e[3]=er^~dr&Rr,e[12]=Br^~qt&nr,e[13]=Mr^~Gt&ir,e[22]=lr^~wr&Ir,e[23]=fr^~Sr&Cr,e[32]=Ht^~tr&hr,e[33]=zt^~rr&pr,e[42]=_r^~jr&Vt,e[43]=vr^~kr&Jt,e[4]=cr^~Er&Fr,e[5]=dr^~Rr&Nr,e[14]=qt^~nr&yr,e[15]=Gt^~ir&gr,e[24]=wr^~Ir&Kt,e[25]=Sr^~Cr&Yt,e[34]=tr^~hr&Ar,e[35]=rr^~pr&Or,e[44]=jr^~Vt&or,e[45]=kr^~Jt&ar,e[6]=Er^~Fr&xt,e[7]=Rr^~Nr&Wt,e[16]=nr^~yr&br,e[17]=ir^~gr&mr,e[26]=Ir^~Kt&Qt,e[27]=Cr^~Yt&Xt,e[36]=hr^~Ar&Tr,e[37]=pr^~Or&Pr,e[46]=Vt^~or&sr,e[47]=Jt^~ar&ur,e[8]=Fr^~xt&Zt,e[9]=Nr^~Wt&er,e[18]=yr^~br&Br,e[19]=gr^~mr&Mr,e[28]=Kt^~Qt&lr,e[29]=Yt^~Xt&fr,e[38]=Ar^~Tr&Ht,e[39]=Or^~Pr&zt,e[48]=or^~sr&_r,e[49]=ar^~ur&vr,e[0]^=ro[t*2],e[1]^=ro[t*2+1]}};const Ot=to;function Ne(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Ne.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};Ne.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Ot.p1600(this.state),this.count=0)};Ne.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),(e&128)!=0&&this.count===this.blockSize-1&&Ot.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Ot.p1600(this.state),this.count=0,this.squeezing=!0};Ne.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Ot.p1600(this.state),this.count=0);return t};Ne.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var xu=Ne,Ff=Uu(xu);const no=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,o)=>{t.errorFirst?n.push(function(a,s){if(t.multiArgs){const l=new Array(arguments.length-1);for(let g=1;g<arguments.length;g++)l[g-1]=arguments[g];a?(l.unshift(a),o(l)):i(l)}else a?o(a):i(s)}):n.push(function(a){if(t.multiArgs){const s=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)s[l]=arguments[l];i(s)}else i(a)}),e.apply(this,n)})};var Wu=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=i=>{const o=a=>typeof a=="string"?i===a:a.test(i);return t.include?t.include.some(o):!t.exclude.some(o)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):no(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const i in e){const o=e[i];n[i]=typeof o=="function"&&r(i)?no(o,t):o}return n},Hu=qu,zu=Object.prototype.hasOwnProperty;function qu(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)zu.call(r,n)&&(e[n]=r[n])}return e}var Gu=Vu;function Vu(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start!="undefined"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const Ju=Hu,Ku=Gu();var Yu=B;function B(e){const t=this;t.currentProvider=e}B.prototype.getBalance=Ke(2,"eth_getBalance");B.prototype.getCode=Ke(2,"eth_getCode");B.prototype.getTransactionCount=Ke(2,"eth_getTransactionCount");B.prototype.getStorageAt=Ke(3,"eth_getStorageAt");B.prototype.call=Ke(2,"eth_call");B.prototype.protocolVersion=I("eth_protocolVersion");B.prototype.syncing=I("eth_syncing");B.prototype.coinbase=I("eth_coinbase");B.prototype.mining=I("eth_mining");B.prototype.hashrate=I("eth_hashrate");B.prototype.gasPrice=I("eth_gasPrice");B.prototype.accounts=I("eth_accounts");B.prototype.blockNumber=I("eth_blockNumber");B.prototype.getBlockTransactionCountByHash=I("eth_getBlockTransactionCountByHash");B.prototype.getBlockTransactionCountByNumber=I("eth_getBlockTransactionCountByNumber");B.prototype.getUncleCountByBlockHash=I("eth_getUncleCountByBlockHash");B.prototype.getUncleCountByBlockNumber=I("eth_getUncleCountByBlockNumber");B.prototype.sign=I("eth_sign");B.prototype.sendTransaction=I("eth_sendTransaction");B.prototype.sendRawTransaction=I("eth_sendRawTransaction");B.prototype.estimateGas=I("eth_estimateGas");B.prototype.getBlockByHash=I("eth_getBlockByHash");B.prototype.getBlockByNumber=I("eth_getBlockByNumber");B.prototype.getTransactionByHash=I("eth_getTransactionByHash");B.prototype.getTransactionByBlockHashAndIndex=I("eth_getTransactionByBlockHashAndIndex");B.prototype.getTransactionByBlockNumberAndIndex=I("eth_getTransactionByBlockNumberAndIndex");B.prototype.getTransactionReceipt=I("eth_getTransactionReceipt");B.prototype.getUncleByBlockHashAndIndex=I("eth_getUncleByBlockHashAndIndex");B.prototype.getUncleByBlockNumberAndIndex=I("eth_getUncleByBlockNumberAndIndex");B.prototype.getCompilers=I("eth_getCompilers");B.prototype.compileLLL=I("eth_compileLLL");B.prototype.compileSolidity=I("eth_compileSolidity");B.prototype.compileSerpent=I("eth_compileSerpent");B.prototype.newFilter=I("eth_newFilter");B.prototype.newBlockFilter=I("eth_newBlockFilter");B.prototype.newPendingTransactionFilter=I("eth_newPendingTransactionFilter");B.prototype.uninstallFilter=I("eth_uninstallFilter");B.prototype.getFilterChanges=I("eth_getFilterChanges");B.prototype.getFilterLogs=I("eth_getFilterLogs");B.prototype.getLogs=I("eth_getLogs");B.prototype.getWork=I("eth_getWork");B.prototype.submitWork=I("eth_submitWork");B.prototype.submitHashrate=I("eth_submitHashrate");B.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(Qu(e),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return t(n);t(null,i.result)})};function I(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Ke(e,t){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},i)}}function Qu(e){return Ju({id:Ku(),jsonrpc:"2.0",params:[]},e)}const Xu=Gn,io=ot.exports;var Sn=typeof Reflect=="object"?Reflect:null,Zu=Sn&&typeof Sn.apply=="function"?Sn.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},el=En;function En(){io.call(this)}Xu.inherits(En,io);En.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(s===void 0)return!1;if(typeof s=="function")oo(s,this,t);else for(var l=s.length,g=tl(s,l),r=0;r<l;++r)oo(g[r],this,t);return!0};function oo(e,t,r){try{Zu(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function tl(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}const rl=el,nl=1e3,il=(e,t)=>e+t,ao=["sync","latest"];class ol extends rl{constructor(t={}){super();this._blockResetDuration=t.blockResetDuration||20*nl,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t,r){!ao.includes(t)||this._maybeStart()}_onRemoveListener(t,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return ao.map(t=>this.listenerCount(t)).reduce(il)}_newPotentialLatest(t){const r=this._currentBlock;r&&so(t)<=so(r)||this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var al=ol;function so(e){return Number.parseInt(e,16)}const sl=Wu,ul=al,ll=1e3;class fl extends ul{constructor(t={}){if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=t.pollingInterval||20*ll,n=t.retryTimeout||r/10,i=t.keepEventLoopActive!==void 0?t.keepEventLoopActive:!0,o=t.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},t));this._provider=t.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(t=>this.emit("error",t))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await uo(this._pollingInterval,!this._keepEventLoopActive)}catch(t){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${t.stack}`);try{this.emit("error",r)}catch{console.error(r)}await uo(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0);const r=await sl(n=>this._provider.sendAsync(t,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var Nf=fl;function uo(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var lo={},Rn={},Tt={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,n,i,o,a,s,l,g,w,R,y,_,T,$,z,C,P,A,x,q,V,Z,K;(function(F){var Y=typeof ee=="object"?ee:typeof self=="object"?self:typeof this=="object"?this:{};F(te(Y,te(e.exports)));function te(c,d){return c!==Y&&(typeof Object.create=="function"?Object.defineProperty(c,"__esModule",{value:!0}):c.__esModule=!0),function(p,m){return c[p]=d?d(p,m):m}}})(function(F){var Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])};t=function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");Y(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)},r=Object.assign||function(c){for(var d,p=1,m=arguments.length;p<m;p++){d=arguments[p];for(var S in d)Object.prototype.hasOwnProperty.call(d,S)&&(c[S]=d[S])}return c},n=function(c,d){var p={};for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&d.indexOf(m)<0&&(p[m]=c[m]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,m=Object.getOwnPropertySymbols(c);S<m.length;S++)d.indexOf(m[S])<0&&Object.prototype.propertyIsEnumerable.call(c,m[S])&&(p[m[S]]=c[m[S]]);return p},i=function(c,d,p,m){var S=arguments.length,v=S<3?d:m===null?m=Object.getOwnPropertyDescriptor(d,p):m,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(c,d,p,m);else for(var H=c.length-1;H>=0;H--)(O=c[H])&&(v=(S<3?O(v):S>3?O(d,p,v):O(d,p))||v);return S>3&&v&&Object.defineProperty(d,p,v),v},o=function(c,d){return function(p,m){d(p,m,c)}},a=function(c,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,d)},s=function(c,d,p,m){function S(v){return v instanceof p?v:new p(function(O){O(v)})}return new(p||(p=Promise))(function(v,O){function H(f){try{u(m.next(f))}catch(b){O(b)}}function J(f){try{u(m.throw(f))}catch(b){O(b)}}function u(f){f.done?v(f.value):S(f.value).then(H,J)}u((m=m.apply(c,d||[])).next())})},l=function(c,d){var p={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},m,S,v,O;return O={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function H(u){return function(f){return J([u,f])}}function J(u){if(m)throw new TypeError("Generator is already executing.");for(;p;)try{if(m=1,S&&(v=u[0]&2?S.return:u[0]?S.throw||((v=S.return)&&v.call(S),0):S.next)&&!(v=v.call(S,u[1])).done)return v;switch(S=0,v&&(u=[u[0]&2,v.value]),u[0]){case 0:case 1:v=u;break;case 4:return p.label++,{value:u[1],done:!1};case 5:p.label++,S=u[1],u=[0];continue;case 7:u=p.ops.pop(),p.trys.pop();continue;default:if(v=p.trys,!(v=v.length>0&&v[v.length-1])&&(u[0]===6||u[0]===2)){p=0;continue}if(u[0]===3&&(!v||u[1]>v[0]&&u[1]<v[3])){p.label=u[1];break}if(u[0]===6&&p.label<v[1]){p.label=v[1],v=u;break}if(v&&p.label<v[2]){p.label=v[2],p.ops.push(u);break}v[2]&&p.ops.pop(),p.trys.pop();continue}u=d.call(c,p)}catch(f){u=[6,f],S=0}finally{m=v=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},g=function(c,d){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&K(d,c,p)},K=Object.create?function(c,d,p,m){m===void 0&&(m=p),Object.defineProperty(c,m,{enumerable:!0,get:function(){return d[p]}})}:function(c,d,p,m){m===void 0&&(m=p),c[m]=d[p]},w=function(c){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&c[d],m=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&m>=c.length&&(c=void 0),{value:c&&c[m++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},R=function(c,d){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var m=p.call(c),S,v=[],O;try{for(;(d===void 0||d-- >0)&&!(S=m.next()).done;)v.push(S.value)}catch(H){O={error:H}}finally{try{S&&!S.done&&(p=m.return)&&p.call(m)}finally{if(O)throw O.error}}return v},y=function(){for(var c=[],d=0;d<arguments.length;d++)c=c.concat(R(arguments[d]));return c},_=function(){for(var c=0,d=0,p=arguments.length;d<p;d++)c+=arguments[d].length;for(var m=Array(c),S=0,d=0;d<p;d++)for(var v=arguments[d],O=0,H=v.length;O<H;O++,S++)m[S]=v[O];return m},T=function(c,d,p){if(p||arguments.length===2)for(var m=0,S=d.length,v;m<S;m++)(v||!(m in d))&&(v||(v=Array.prototype.slice.call(d,0,m)),v[m]=d[m]);return c.concat(v||Array.prototype.slice.call(d))},$=function(c){return this instanceof $?(this.v=c,this):new $(c)},z=function(c,d,p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=p.apply(c,d||[]),S,v=[];return S={},O("next"),O("throw"),O("return"),S[Symbol.asyncIterator]=function(){return this},S;function O(E){m[E]&&(S[E]=function(M){return new Promise(function(N,j){v.push([E,M,N,j])>1||H(E,M)})})}function H(E,M){try{J(m[E](M))}catch(N){b(v[0][3],N)}}function J(E){E.value instanceof $?Promise.resolve(E.value.v).then(u,f):b(v[0][2],E)}function u(E){H("next",E)}function f(E){H("throw",E)}function b(E,M){E(M),v.shift(),v.length&&H(v[0][0],v[0][1])}},C=function(c){var d,p;return d={},m("next"),m("throw",function(S){throw S}),m("return"),d[Symbol.iterator]=function(){return this},d;function m(S,v){d[S]=c[S]?function(O){return(p=!p)?{value:$(c[S](O)),done:S==="return"}:v?v(O):O}:v}},P=function(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=c[Symbol.asyncIterator],p;return d?d.call(c):(c=typeof w=="function"?w(c):c[Symbol.iterator](),p={},m("next"),m("throw"),m("return"),p[Symbol.asyncIterator]=function(){return this},p);function m(v){p[v]=c[v]&&function(O){return new Promise(function(H,J){O=c[v](O),S(H,J,O.done,O.value)})}}function S(v,O,H,J){Promise.resolve(J).then(function(u){v({value:u,done:H})},O)}},A=function(c,d){return Object.defineProperty?Object.defineProperty(c,"raw",{value:d}):c.raw=d,c};var te=Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d};x=function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&K(d,c,p);return te(d,c),d},q=function(c){return c&&c.__esModule?c:{default:c}},V=function(c,d,p,m){if(p==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?c!==d||!m:!d.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return p==="m"?m:p==="a"?m.call(c):m?m.value:d.get(c)},Z=function(c,d,p,m,S){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!S)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?c!==d||!S:!d.has(c))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?S.call(c,p):S?S.value=p:d.set(c,p),p},F("__extends",t),F("__assign",r),F("__rest",n),F("__decorate",i),F("__param",o),F("__metadata",a),F("__awaiter",s),F("__generator",l),F("__exportStar",g),F("__createBinding",K),F("__values",w),F("__read",R),F("__spread",y),F("__spreadArrays",_),F("__spreadArray",T),F("__await",$),F("__asyncGenerator",z),F("__asyncDelegator",C),F("__asyncValues",P),F("__makeTemplateObject",A),F("__importStar",x),F("__importDefault",q),F("__classPrivateFieldGet",V),F("__classPrivateFieldSet",Z)})})(Tt);var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});var fo=Tt.exports,cl=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(i){return t._queue.push(i)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return fo.__awaiter(this,void 0,void 0,function(){var r,n,i;return fo.__generator(this,function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:r=o.sent(),n=r[0],i=r[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,o.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();Pt.default=cl;Object.defineProperty(Rn,"__esModule",{value:!0});var co=Tt.exports,dl=Pt,hl=function(){function e(){this._semaphore=new dl.default(1)}return e.prototype.acquire=function(){return co.__awaiter(this,void 0,void 0,function(){var t,r;return co.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();Rn.default=hl;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.withTimeout=void 0;var Mt=Tt.exports;function pl(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,o){return Mt.__awaiter(n,void 0,void 0,function(){var a,s,l;return Mt.__generator(this,function(g){switch(g.label){case 0:return a=!1,setTimeout(function(){a=!0,o(r)},t),[4,e.acquire()];case 1:return s=g.sent(),a?(l=Array.isArray(s)?s[1]:s,l()):i(s),[2]}})})})},runExclusive:function(i){return Mt.__awaiter(this,void 0,void 0,function(){var o,a;return Mt.__generator(this,function(s){switch(s.label){case 0:o=function(){},s.label=1;case 1:return s.trys.push([1,,7,8]),[4,this.acquire()];case 2:return a=s.sent(),Array.isArray(a)?(o=a[1],[4,i(a[0])]):[3,4];case 3:return[2,s.sent()];case 4:return o=a,[4,i()];case 5:return[2,s.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}Bt.withTimeout=pl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Rn;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=Pt;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Bt;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(lo);var An={},jt={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getUniqueId=void 0;const ho=4294967295;let On=Math.floor(Math.random()*ho);function yl(){return On=(On+1)%ho,On}Ye.getUniqueId=yl;Object.defineProperty(jt,"__esModule",{value:!0});jt.createIdRemapMiddleware=void 0;const gl=Ye;function bl(){return(e,t,r,n)=>{const i=e.id,o=gl.getUniqueId();e.id=o,t.id=o,r(a=>{e.id=i,t.id=i,a()})}}jt.createIdRemapMiddleware=bl;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.createAsyncMiddleware=void 0;function ml(e){return async(t,r,n,i)=>{let o;const a=new Promise(w=>{o=w});let s=null,l=!1;const g=async()=>{l=!0,n(w=>{s=w,o()}),await a};try{await e(t,r,g),l?(await a,s(null)):i(null)}catch(w){s?s(w):i(w)}}}kt.createAsyncMiddleware=ml;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.createScaffoldMiddleware=void 0;function _l(e){return(t,r,n,i)=>{const o=e[t.method];return o===void 0?n():typeof o=="function"?o(t,r,n,i):(r.result=o,i())}}It.createScaffoldMiddleware=_l;var Qe={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});const vl=ot.exports;function po(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function wl(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}class Sl extends vl.EventEmitter{emit(t,...r){let n=t==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}const o=i[t];if(o===void 0)return!1;if(typeof o=="function")po(o,this,r);else{const a=o.length,s=wl(o);for(let l=0;l<a;l+=1)po(s[l],this,r)}return!0}}Xe.default=Sl;var yo={},ye={},El=Ze;Ze.default=Ze;Ze.stable=mo;Ze.stableStringify=mo;var Ct="[...]",go="[Circular]",Re=[],Ae=[];function bo(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Ze(e,t,r,n){typeof n=="undefined"&&(n=bo()),Tn(e,"",0,[],void 0,0,n);var i;try{Ae.length===0?i=JSON.stringify(e,t,r):i=JSON.stringify(e,_o(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Re.length!==0;){var o=Re.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Le(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),Re.push([n,r,t,i])):Ae.push([t,r,e]):(n[r]=e,Re.push([n,r,t]))}function Tn(e,t,r,n,i,o,a){o+=1;var s;if(typeof e=="object"&&e!==null){for(s=0;s<n.length;s++)if(n[s]===e){Le(go,e,t,i);return}if(typeof a.depthLimit!="undefined"&&o>a.depthLimit){Le(Ct,e,t,i);return}if(typeof a.edgesLimit!="undefined"&&r+1>a.edgesLimit){Le(Ct,e,t,i);return}if(n.push(e),Array.isArray(e))for(s=0;s<e.length;s++)Tn(e[s],s,s,n,e,o,a);else{var l=Object.keys(e);for(s=0;s<l.length;s++){var g=l[s];Tn(e[g],g,s,n,e,o,a)}}n.pop()}}function Rl(e,t){return e<t?-1:e>t?1:0}function mo(e,t,r,n){typeof n=="undefined"&&(n=bo());var i=Pn(e,"",0,[],void 0,0,n)||e,o;try{Ae.length===0?o=JSON.stringify(i,t,r):o=JSON.stringify(i,_o(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Re.length!==0;){var a=Re.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return o}function Pn(e,t,r,n,i,o,a){o+=1;var s;if(typeof e=="object"&&e!==null){for(s=0;s<n.length;s++)if(n[s]===e){Le(go,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof a.depthLimit!="undefined"&&o>a.depthLimit){Le(Ct,e,t,i);return}if(typeof a.edgesLimit!="undefined"&&r+1>a.edgesLimit){Le(Ct,e,t,i);return}if(n.push(e),Array.isArray(e))for(s=0;s<e.length;s++)Pn(e[s],s,s,n,e,o,a);else{var l={},g=Object.keys(e).sort(Rl);for(s=0;s<g.length;s++){var w=g[s];Pn(e[w],w,s,n,e,o,a),l[w]=e[w]}if(typeof i!="undefined")Re.push([i,t,e]),i[t]=l;else return l}n.pop()}}function _o(e){return e=typeof e!="undefined"?e:function(t,r){return r},function(t,r){if(Ae.length>0)for(var n=0;n<Ae.length;n++){var i=Ae[n];if(i[1]===t&&i[0]===r){r=i[2],Ae.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(ye,"__esModule",{value:!0});ye.EthereumProviderError=ye.EthereumRpcError=void 0;const Al=El;class vo extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r);this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Al.default(this.serialize(),Pl,2)}}ye.EthereumRpcError=vo;class Ol extends vo{constructor(t,r,n){if(!Tl(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}ye.EthereumProviderError=Ol;function Tl(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Pl(e,t){if(t!=="[Circular]")return t}var Bn={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.errorValues=ge.errorCodes=void 0;ge.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};ge.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},"4001":{standard:"EIP-1193",message:"User rejected the request."},"4100":{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},"4200":{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},"4900":{standard:"EIP-1193",message:"The provider is disconnected from all chains."},"4901":{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=ge,r=ye,n=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:a(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function a(y,_=i){if(Number.isInteger(y)){const T=y.toString();if(R(t.errorValues,T))return t.errorValues[T].message;if(g(y))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return _}e.getMessageFromCode=a;function s(y){if(!Number.isInteger(y))return!1;const _=y.toString();return!!(t.errorValues[_]||g(y))}e.isValidCode=s;function l(y,{fallbackError:_=o,shouldIncludeStack:T=!1}={}){var $,z;if(!_||!Number.isInteger(_.code)||typeof _.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(y instanceof r.EthereumRpcError)return y.serialize();const C={};if(y&&typeof y=="object"&&!Array.isArray(y)&&R(y,"code")&&s(y.code)){const A=y;C.code=A.code,A.message&&typeof A.message=="string"?(C.message=A.message,R(A,"data")&&(C.data=A.data)):(C.message=a(C.code),C.data={originalError:w(y)})}else{C.code=_.code;const A=($=y)===null||$===void 0?void 0:$.message;C.message=A&&typeof A=="string"?A:_.message,C.data={originalError:w(y)}}const P=(z=y)===null||z===void 0?void 0:z.stack;return T&&y&&P&&typeof P=="string"&&(C.stack=P),C}e.serializeError=l;function g(y){return y>=-32099&&y<=-32e3}function w(y){return y&&typeof y=="object"&&!Array.isArray(y)?Object.assign({},y):y}function R(y,_){return Object.prototype.hasOwnProperty.call(y,_)}})(Bn);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ethErrors=void 0;const Mn=ye,wo=Bn,X=ge;Ft.ethErrors={rpc:{parse:e=>ne(X.errorCodes.rpc.parse,e),invalidRequest:e=>ne(X.errorCodes.rpc.invalidRequest,e),invalidParams:e=>ne(X.errorCodes.rpc.invalidParams,e),methodNotFound:e=>ne(X.errorCodes.rpc.methodNotFound,e),internal:e=>ne(X.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ne(t,e)},invalidInput:e=>ne(X.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>ne(X.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ne(X.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ne(X.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ne(X.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ne(X.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>et(X.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>et(X.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>et(X.errorCodes.provider.unsupportedMethod,e),disconnected:e=>et(X.errorCodes.provider.disconnected,e),chainDisconnected:e=>et(X.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Mn.EthereumProviderError(t,r,n)}}};function ne(e,t){const[r,n]=So(t);return new Mn.EthereumRpcError(e,r||wo.getMessageFromCode(e),n)}function et(e,t){const[r,n]=So(t);return new Mn.EthereumProviderError(e,r||wo.getMessageFromCode(e),n)}function So(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=ye;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=Bn;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ft;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=ge;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(yo);var Bl=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.JsonRpcEngine=void 0;const Ml=Bl(Xe),ie=yo;class le extends Ml.default{constructor(){super();this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,i)=>{try{const[o,a,s]=await le._runAllMiddleware(t,r,this._middleware);return a?(await le._runReturnHandlers(s),i(o)):n(async l=>{try{await le._runReturnHandlers(s)}catch(g){return l(g)}return l()})}catch(o){return i(o)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,i)=>{r(i)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const a=new ie.EthereumRpcError(ie.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){const a=new ie.EthereumRpcError(ie.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(a,{id:t.id,jsonrpc:"2.0",error:a})}const n=Object.assign({},t),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(i.error=ie.serializeError(o))),r(o,i)}async _processRequest(t,r){const[n,i,o]=await le._runAllMiddleware(t,r,this._middleware);if(le._checkForCompletion(t,r,i),await le._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(t,r,n){const i=[];let o=null,a=!1;for(const s of n)if([o,a]=await le._runMiddleware(t,r,s,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(t,r,n,i){return new Promise(o=>{const a=l=>{const g=l||r.error;g&&(r.error=ie.serializeError(g)),o([g,!0])},s=l=>{r.error?a(r.error):(l&&(typeof l!="function"&&a(new ie.EthereumRpcError(ie.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${jn(t)}`,{request:t})),i.push(l)),o([null,!1]))};try{n(t,r,s,a)}catch(l){a(l)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new ie.EthereumRpcError(ie.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jn(t)}`,{request:t});if(!n)throw new ie.EthereumRpcError(ie.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jn(t)}`,{request:t})}}Qe.JsonRpcEngine=le;function jn(e){return JSON.stringify(e,null,2)}var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.mergeMiddleware=void 0;const jl=Qe;function kl(e){const t=new jl.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}Nt.mergeMiddleware=kl;(function(e){var t=ee&&ee.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=ee&&ee.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(jt,e),r(kt,e),r(It,e),r(Ye,e),r(Qe,e),r(Nt,e)})(An);var Il=function(t){return(r,n,i,o)=>{const a=t[r.method];return a===void 0?i():typeof a=="function"?a(r,n,i,o):(n.result=a,o())}},Eo=Il;const Ro=(e,t,r,n)=>function(...i){const o=t.promiseModule;return new o((a,s)=>{t.multiArgs?i.push((...g)=>{t.errorFirst?g[0]?s(g):(g.shift(),a(g)):a(g)}):t.errorFirst?i.push((g,w)=>{g?s(g):a(w)}):i.push(a);const l=this===r?n:this;Reflect.apply(e,l,i)})},Ao=new WeakMap;var Cl=(e,t)=>{t=qn({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(a,s)=>{let l=Ao.get(a);if(l||(l={},Ao.set(a,l)),s in l)return l[s];const g=T=>typeof T=="string"||typeof s=="symbol"?s===T:T.test(s),w=Reflect.getOwnPropertyDescriptor(a,s),R=w===void 0||w.writable||w.configurable,_=(t.include?t.include.some(g):!t.exclude.some(g))&&R;return l[s]=_,_},i=new WeakMap,o=new Proxy(e,{apply(a,s,l){const g=i.get(a);if(g)return Reflect.apply(g,s,l);const w=t.excludeMain?a:Ro(a,t,o,a);return i.set(a,w),Reflect.apply(w,s,l)},get(a,s){const l=a[s];if(!n(a,s)||l===Function.prototype[s])return l;const g=i.get(l);if(g)return g;if(typeof l=="function"){const w=Ro(l,t,o,a);return i.set(l,w),w}return l}});return o};const Fl=Xe.default;class Nl extends Fl{constructor(){super();this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}}var kn=Nl;const Ll=kn;class $l extends Ll{constructor(){super();this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}}var Dl=$l,tt={minBlockRef:Ul,maxBlockRef:xl,sortBlockRefs:In,bnToHex:Wl,blockRefIsNumber:Hl,hexToInt:Lt,incrementHexInt:zl,intToHex:Oo,unsafeRandomBytes:ql};function Ul(...e){return In(e)[0]}function xl(...e){const t=In(e);return t[t.length-1]}function In(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:Lt(t)-Lt(r))}function Wl(e){return"0x"+e.toString(16)}function Hl(e){return e&&!["earliest","latest","pending"].includes(e)}function Lt(e){return e==null?e:Number.parseInt(e,16)}function zl(e){if(e==null)return e;const t=Lt(e);return Oo(t+1)}function Oo(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function ql(e){let t="0x";for(let r=0;r<e;r++)t+=To(),t+=To();return t}function To(){return Math.floor(Math.random()*16).toString(16)}const Gl=Yu,Vl=Cl,Jl=Dl,{bnToHex:Lf,hexToInt:$t,incrementHexInt:Kl,minBlockRef:Yl,blockRefIsNumber:Ql}=tt;class Xl extends Jl{constructor({provider:t,params:r}){super();this.type="log",this.ethQuery=new Gl(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Yl(this.params.toBlock,t),i=Object.assign({},this.params,{toBlock:n}),o=await this._fetchLogs(i);this.addInitialResults(o)}async update({oldBlock:t,newBlock:r}){const n=r;let i;t?i=Kl(t):i=r;const o=Object.assign({},this.params,{fromBlock:i,toBlock:n}),s=(await this._fetchLogs(o)).filter(l=>this.matchLog(l));this.addResults(s)}async _fetchLogs(t){return await Vl(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if($t(this.params.fromBlock)>=$t(t.blockNumber)||Ql(this.params.toBlock)&&$t(this.params.toBlock)<=$t(t.blockNumber))return!1;const r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,o)=>{let a=t.topics[o];if(!a)return!1;a=a.toLowerCase();let s=Array.isArray(i)?i:[i];return s.includes(null)?!0:(s=s.map(w=>w.toLowerCase()),s.includes(a))})}}var Zl=Xl,Cn=ef;async function ef({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=Po(t),o=Po(r)-n+1,a=Array(o).fill().map((l,g)=>n+g).map(tf);return await Promise.all(a.map(l=>rf(e,"eth_getBlockByNumber",[l,!1])))}function Po(e){return e==null?e:Number.parseInt(e,16)}function tf(e){if(e==null)return e;const t=e.toString(16);return"0x"+t}function rf(e,t,r){return new Promise((n,i)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},(o,a)=>{if(o)return i(o);n(a.result)})})}const nf=kn,of=Cn,{incrementHexInt:af}=tt;class sf extends nf{constructor({provider:t,params:r}){super();this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){const n=r,i=af(t),a=(await of({provider:this.provider,fromBlock:i,toBlock:n})).map(s=>s.hash);this.addResults(a)}}var uf=sf;const lf=kn,ff=Cn,{incrementHexInt:cf}=tt;class df extends lf{constructor({provider:t}){super();this.type="tx",this.provider=t}async update({oldBlock:t}){const r=t,n=cf(t),i=await ff({provider:this.provider,fromBlock:n,toBlock:r}),o=[];for(const a of i)o.push(...a.transactions);this.addResults(o)}}var hf=df;const pf=lo.Mutex,{createAsyncMiddleware:yf}=An,gf=Eo,bf=Zl,mf=uf,_f=hf,{intToHex:Bo,hexToInt:Fn}=tt;var vf=wf;function wf({blockTracker:e,provider:t}){let r=0,n={};const i=new pf,o=Sf({mutex:i}),a=gf({eth_newFilter:o(Nn(l)),eth_newBlockFilter:o(Nn(g)),eth_newPendingTransactionFilter:o(Nn(w)),eth_uninstallFilter:o(Dt(_)),eth_getFilterChanges:o(Dt(R)),eth_getFilterLogs:o(Dt(y))}),s=async({oldBlock:P,newBlock:A})=>{if(n.length===0)return;const x=await i.acquire();try{await Promise.all($e(n).map(async q=>{try{await q.update({oldBlock:P,newBlock:A})}catch(V){console.error(V)}}))}catch(q){console.error(q)}x()};return a.newLogFilter=l,a.newBlockFilter=g,a.newPendingTransactionFilter=w,a.uninstallFilter=_,a.getFilterChanges=R,a.getFilterLogs=y,a.destroy=()=>{z()},a;async function l(P){const A=new bf({provider:t,params:P});return await T(A),A}async function g(){const P=new mf({provider:t});return await T(P),P}async function w(){const P=new _f({provider:t});return await T(P),P}async function R(P){const A=Fn(P),x=n[A];if(!x)throw new Error(`No filter for index "${A}"`);return x.getChangesAndClear()}async function y(P){const A=Fn(P),x=n[A];if(!x)throw new Error(`No filter for index "${A}"`);return x.type==="log"?results=x.getAllResults():results=[],results}async function _(P){const A=Fn(P),x=n[A],q=Boolean(x);return q&&await $(A),q}async function T(P){const A=$e(n).length,x=await e.getLatestBlock();await P.initialize({currentBlock:x}),r++,n[r]=P,P.id=r,P.idHex=Bo(r);const q=$e(n).length;return C({prevFilterCount:A,newFilterCount:q}),r}async function $(P){const A=$e(n).length;delete n[P];const x=$e(n).length;C({prevFilterCount:A,newFilterCount:x})}async function z(){const P=$e(n).length;n={},C({prevFilterCount:P,newFilterCount:0})}function C({prevFilterCount:P,newFilterCount:A}){if(P===0&&A>0){e.on("sync",s);return}if(P>0&&A===0){e.removeListener("sync",s);return}}}function Nn(e){return Dt(async(...t)=>{const r=await e(...t);return Bo(r.id)})}function Dt(e){return yf(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function Sf({mutex:e}){return t=>async(r,n,i,o)=>{(await e.acquire())(),t(r,n,i,o)}}function $e(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const Ef=Xe.default,Rf=Eo,{createAsyncMiddleware:Mo}=An,Af=vf,{unsafeRandomBytes:Of,incrementHexInt:Tf}=tt,Pf=Cn;var $f=Bf;function Bf({blockTracker:e,provider:t}){const r={},n=Af({blockTracker:e,provider:t});let i=!1;const o=new Ef,a=Rf({eth_subscribe:Mo(s),eth_unsubscribe:Mo(l)});return a.destroy=w,{events:o,middleware:a};async function s(R,y){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const _=R.params[0],T=Of(16);let $;switch(_){case"newHeads":$=z({subId:T});break;case"logs":const P=R.params[1],A=await n.newLogFilter(P);$=C({subId:T,filter:A});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${_}"`)}r[T]=$,y.result=T;return;function z({subId:P}){const A={type:_,destroy:async()=>{e.removeListener("sync",A.update)},update:async({oldBlock:x,newBlock:q})=>{const V=q,Z=Tf(x);(await Pf({provider:t,fromBlock:Z,toBlock:V})).map(Mf).forEach(Y=>{g(P,Y)})}};return e.on("sync",A.update),A}function C({subId:P,filter:A}){return A.on("update",q=>g(P,q)),{type:_,destroy:async()=>await n.uninstallFilter(A.idHex)}}}async function l(R,y){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const _=R.params[0],T=r[_];if(!T){y.result=!1;return}delete r[_],await T.destroy(),y.result=!0}function g(R,y){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:R,result:y}})}function w(){o.removeAllListeners();for(const R in r)r[R].destroy(),delete r[R];i=!0}}function Mf(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}export{Li as _,sn as a,pt as b,Oi as c,Ie as d,vf as e,Vi as f,Ru as g,fn as h,Hu as i,Ff as j,Iu as k,El as l,Xe as m,Nf as p,mi as r,$f as s,Gn as u};
